import{r as y,R as Er,a as Sr,j as P,c as Pr,b as Dr}from"./client-BM5fYXQq.js";/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}var $;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($||($={}));const Lt="popstate";function Lr(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:h}=n.location;return ze("",{pathname:s,search:i,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:He(a)}return Mr(t,r,null,e)}function N(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Le(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jr(){return Math.random().toString(36).substr(2,8)}function jt(e,t){return{usr:e.state,key:e.key,idx:t}}function ze(e,t,r,n){return r===void 0&&(r=null),H({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?se(t):t,{state:r,key:t&&t.key||n||jr()})}function He(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function se(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Mr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,h=$.Pop,d=null,m=u();m==null&&(m=0,i.replaceState(H({},i.state,{idx:m}),""));function u(){return(i.state||{idx:null}).idx}function v(){h=$.Pop;let g=u(),R=g==null?null:g-m;m=g,d&&d({action:h,location:b.location,delta:R})}function x(g,R){h=$.Push;let T=ze(b.location,g,R);r&&r(T,g),m=u()+1;let B=jt(T,m),X=b.createHref(T);try{i.pushState(B,"",X)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(X)}s&&d&&d({action:h,location:b.location,delta:1})}function C(g,R){h=$.Replace;let T=ze(b.location,g,R);r&&r(T,g),m=u();let B=jt(T,m),X=b.createHref(T);i.replaceState(B,"",X),s&&d&&d({action:h,location:b.location,delta:0})}function L(g){let R=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof g=="string"?g:He(g);return T=T.replace(/ $/,"%20"),N(R,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,R)}let b={get action(){return h},get location(){return e(a,i)},listen(g){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Lt,v),d=g,()=>{a.removeEventListener(Lt,v),d=null}},createHref(g){return t(a,g)},createURL:L,encodeLocation(g){let R=L(g);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:C,go(g){return i.go(g)}};return b}var k;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k||(k={}));const Cr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Tr(e){return e.index===!0}function dt(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,s)=>{let i=[...r,s],h=typeof a.id=="string"?a.id:i.join("-");if(N(a.index!==!0||!a.children,"Cannot specify children on an index route"),N(!n[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),Tr(a)){let d=H({},a,t(a),{id:h});return n[h]=d,d}else{let d=H({},a,t(a),{id:h,children:void 0});return n[h]=d,a.children&&(d.children=dt(a.children,t,i,n)),d}})}function Pe(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?se(t):t,a=$e(n.pathname||"/",r);if(a==null)return null;let s=Kt(e);_r(s);let i=null;for(let h=0;i==null&&h<s.length;++h){let d=Wr(a);i=Hr(s[h],d)}return i}function Fr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function Kt(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,h)=>{let d={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};d.relativePath.startsWith("/")&&(N(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let m=xe([n,d.relativePath]),u=r.concat(d);s.children&&s.children.length>0&&(N(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Kt(s.children,t,u,m)),!(s.path==null&&!s.index)&&t.push({path:m,score:zr(m,s.index),routesMeta:u})};return e.forEach((s,i)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))a(s,i);else for(let d of qt(s.path))a(s,i,d)}),t}function qt(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=qt(n.join("/")),h=[];return h.push(...i.map(d=>d===""?s:[s,d].join("/"))),a&&h.push(...i),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function _r(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ur=/^:[\w-]+$/,Nr=3,Or=2,Ar=1,Ir=10,Br=-2,Mt=e=>e==="*";function zr(e,t){let r=e.split("/"),n=r.length;return r.some(Mt)&&(n+=Br),t&&(n+=Or),r.filter(a=>!Mt(a)).reduce((a,s)=>a+(Ur.test(s)?Nr:s===""?Ar:Ir),n)}function kr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Hr(e,t){let{routesMeta:r}=e,n={},a="/",s=[];for(let i=0;i<r.length;++i){let h=r[i],d=i===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",u=$r({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m);if(!u)return null;Object.assign(n,u.params);let v=h.route;s.push({params:n,pathname:xe([a,u.pathname]),pathnameBase:Gr(xe([a,u.pathnameBase])),route:v}),u.pathnameBase!=="/"&&(a=xe([a,u.pathnameBase]))}return s}function $r(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((m,u,v)=>{let{paramName:x,isOptional:C}=u;if(x==="*"){let b=h[v]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const L=h[v];return C&&!L?m[x]=void 0:m[x]=(L||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:i,pattern:e}}function Vr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Le(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,h,d)=>(n.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Wr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Le(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $e(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Kr(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?se(e):e;return{pathname:r?r.startsWith("/")?r:qr(r,t):t,search:Xr(n),hash:Qr(a)}}function qr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yr(e,t){let r=Yt(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jr(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=se(e):(a=H({},e),N(!a.pathname||!a.pathname.includes("?"),lt("?","pathname","search",a)),N(!a.pathname||!a.pathname.includes("#"),lt("#","pathname","hash",a)),N(!a.search||!a.search.includes("#"),lt("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,h;if(i==null)h=r;else{let v=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?t[v]:"/"}let d=Kr(a,h),m=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(m||u)&&(d.pathname+="/"),d}const xe=e=>e.join("/").replace(/\/\/+/g,"/"),Gr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class mt{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Jt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gt=["post","put","patch","delete"],Zr=new Set(Gt),en=["get",...Gt],tn=new Set(en),rn=new Set([301,302,303,307,308]),nn=new Set([307,308]),st={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},an={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ue={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Qt="remix-router-transitions";function ln(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;N(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let o=e.detectErrorBoundary;a=l=>({hasErrorBoundary:o(l)})}else a=on;let s={},i=dt(e.routes,a,void 0,s),h,d=e.basename||"/",m=H({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),u=null,v=new Set,x=null,C=null,L=null,b=e.hydrationData!=null,g=Pe(i,e.history.location,d),R=null;if(g==null){let o=ne(404,{pathname:e.history.location.pathname}),{matches:l,route:f}=At(i);g=l,R={[f.id]:o}}let T,B=g.some(o=>o.route.lazy),X=g.some(o=>o.route.loader);if(B)T=!1;else if(!X)T=!0;else if(m.v7_partialHydration){let o=e.hydrationData?e.hydrationData.loaderData:null,l=e.hydrationData?e.hydrationData.errors:null,f=p=>p.route.loader?p.route.loader.hydrate===!0?!1:o&&o[p.route.id]!==void 0||l&&l[p.route.id]!==void 0:!0;if(l){let p=g.findIndex(w=>l[w.route.id]!==void 0);T=g.slice(0,p+1).every(f)}else T=g.every(f)}else T=e.hydrationData!=null;let Q,c={historyAction:e.history.action,location:e.history.location,matches:g,initialized:T,navigation:st,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||R,fetchers:new Map,blockers:new Map},j=$.Pop,z=!1,_,Z=!1,V=new Map,ee=null,J=!1,oe=!1,We=[],Ke=[],W=new Map,qe=0,je=-1,we=new Map,ie=new Set,be=new Map,Me=new Map,le=new Set,he=new Map,me=new Map,tt=!1;function sr(){if(u=e.history.listen(o=>{let{action:l,location:f,delta:p}=o;if(tt){tt=!1;return}Le(me.size===0||p!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let w=St({currentLocation:c.location,nextLocation:f,historyAction:l});if(w&&p!=null){tt=!0,e.history.go(p*-1),Je(w,{state:"blocked",location:f,proceed(){Je(w,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),e.history.go(p)},reset(){let F=new Map(c.blockers);F.set(w,Ue),te({blockers:F})}});return}return pe(l,f)}),r){yn(t,V);let o=()=>xn(t,V);t.addEventListener("pagehide",o),ee=()=>t.removeEventListener("pagehide",o)}return c.initialized||pe($.Pop,c.location,{initialHydration:!0}),Q}function ur(){u&&u(),ee&&ee(),v.clear(),_&&_.abort(),c.fetchers.forEach((o,l)=>Ye(l)),c.blockers.forEach((o,l)=>Et(l))}function dr(o){return v.add(o),()=>v.delete(o)}function te(o,l){l===void 0&&(l={}),c=H({},c,o);let f=[],p=[];m.v7_fetcherPersist&&c.fetchers.forEach((w,F)=>{w.state==="idle"&&(le.has(F)?p.push(F):f.push(F))}),[...v].forEach(w=>w(c,{deletedFetchers:p,unstable_viewTransitionOpts:l.viewTransitionOpts,unstable_flushSync:l.flushSync===!0})),m.v7_fetcherPersist&&(f.forEach(w=>c.fetchers.delete(w)),p.forEach(w=>Ye(w)))}function Ce(o,l,f){var p,w;let{flushSync:F}=f===void 0?{}:f,D=c.actionData!=null&&c.navigation.formMethod!=null&&ae(c.navigation.formMethod)&&c.navigation.state==="loading"&&((p=o.state)==null?void 0:p._isRedirect)!==!0,S;l.actionData?Object.keys(l.actionData).length>0?S=l.actionData:S=null:D?S=c.actionData:S=null;let E=l.loaderData?Ot(c.loaderData,l.loaderData,l.matches||[],l.errors):c.loaderData,U=c.blockers;U.size>0&&(U=new Map(U),U.forEach((I,Y)=>U.set(Y,Ue)));let K=z===!0||c.navigation.formMethod!=null&&ae(c.navigation.formMethod)&&((w=o.state)==null?void 0:w._isRedirect)!==!0;h&&(i=h,h=void 0),J||j===$.Pop||(j===$.Push?e.history.push(o,o.state):j===$.Replace&&e.history.replace(o,o.state));let M;if(j===$.Pop){let I=V.get(c.location.pathname);I&&I.has(o.pathname)?M={currentLocation:c.location,nextLocation:o}:V.has(o.pathname)&&(M={currentLocation:o,nextLocation:c.location})}else if(Z){let I=V.get(c.location.pathname);I?I.add(o.pathname):(I=new Set([o.pathname]),V.set(c.location.pathname,I)),M={currentLocation:c.location,nextLocation:o}}te(H({},l,{actionData:S,loaderData:E,historyAction:j,location:o,initialized:!0,navigation:st,revalidation:"idle",restoreScrollPosition:Dt(o,l.matches||c.matches),preventScrollReset:K,blockers:U}),{viewTransitionOpts:M,flushSync:F===!0}),j=$.Pop,z=!1,Z=!1,J=!1,oe=!1,We=[],Ke=[]}async function vt(o,l){if(typeof o=="number"){e.history.go(o);return}let f=ct(c.location,c.matches,d,m.v7_prependBasename,o,m.v7_relativeSplatPath,l==null?void 0:l.fromRouteId,l==null?void 0:l.relative),{path:p,submission:w,error:F}=Ct(m.v7_normalizeFormMethod,!1,f,l),D=c.location,S=ze(c.location,p,l&&l.state);S=H({},S,e.history.encodeLocation(S));let E=l&&l.replace!=null?l.replace:void 0,U=$.Push;E===!0?U=$.Replace:E===!1||w!=null&&ae(w.formMethod)&&w.formAction===c.location.pathname+c.location.search&&(U=$.Replace);let K=l&&"preventScrollReset"in l?l.preventScrollReset===!0:void 0,M=(l&&l.unstable_flushSync)===!0,I=St({currentLocation:D,nextLocation:S,historyAction:U});if(I){Je(I,{state:"blocked",location:S,proceed(){Je(I,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),vt(o,l)},reset(){let Y=new Map(c.blockers);Y.set(I,Ue),te({blockers:Y})}});return}return await pe(U,S,{submission:w,pendingError:F,preventScrollReset:K,replace:l&&l.replace,enableViewTransition:l&&l.unstable_viewTransition,flushSync:M})}function cr(){if(rt(),te({revalidation:"loading"}),c.navigation.state!=="submitting"){if(c.navigation.state==="idle"){pe(c.historyAction,c.location,{startUninterruptedRevalidation:!0});return}pe(j||c.historyAction,c.navigation.location,{overrideNavigation:c.navigation})}}async function pe(o,l,f){_&&_.abort(),_=null,j=o,J=(f&&f.startUninterruptedRevalidation)===!0,wr(c.location,c.matches),z=(f&&f.preventScrollReset)===!0,Z=(f&&f.enableViewTransition)===!0;let p=h||i,w=f&&f.overrideNavigation,F=Pe(p,l,d),D=(f&&f.flushSync)===!0;if(!F){let Y=ne(404,{pathname:l.pathname}),{matches:re,route:q}=At(p);nt(),Ce(l,{matches:re,loaderData:{},errors:{[q.id]:Y}},{flushSync:D});return}if(c.initialized&&!oe&&fn(c.location,l)&&!(f&&f.submission&&ae(f.submission.formMethod))){Ce(l,{matches:F},{flushSync:D});return}_=new AbortController;let S=Oe(e.history,l,_.signal,f&&f.submission),E,U;if(f&&f.pendingError)U={[Be(F).route.id]:f.pendingError};else if(f&&f.submission&&ae(f.submission.formMethod)){let Y=await fr(S,l,f.submission,F,{replace:f.replace,flushSync:D});if(Y.shortCircuited)return;E=Y.pendingActionData,U=Y.pendingActionError,w=ut(l,f.submission),D=!1,S=new Request(S.url,{signal:S.signal})}let{shortCircuited:K,loaderData:M,errors:I}=await hr(S,l,F,w,f&&f.submission,f&&f.fetcherSubmission,f&&f.replace,f&&f.initialHydration===!0,D,E,U);K||(_=null,Ce(l,H({matches:F},E?{actionData:E}:{},{loaderData:M,errors:I})))}async function fr(o,l,f,p,w){w===void 0&&(w={}),rt();let F=gn(l,f);te({navigation:F},{flushSync:w.flushSync===!0});let D,S=ht(p,l);if(!S.route.action&&!S.route.lazy)D={type:k.error,error:ne(405,{method:o.method,pathname:l.pathname,routeId:S.route.id})};else if(D=await Ne("action",o,S,p,s,a,d,m.v7_relativeSplatPath),o.signal.aborted)return{shortCircuited:!0};if(ye(D)){let E;return w&&w.replace!=null?E=w.replace:E=D.location===c.location.pathname+c.location.search,await Te(c,D,{submission:f,replace:E}),{shortCircuited:!0}}if(De(D)){let E=Be(p,S.route.id);return(w&&w.replace)!==!0&&(j=$.Push),{pendingActionData:{},pendingActionError:{[E.route.id]:D.error}}}if(ve(D))throw ne(400,{type:"defer-action"});return{pendingActionData:{[S.route.id]:D.data}}}async function hr(o,l,f,p,w,F,D,S,E,U,K){let M=p||ut(l,w),I=w||F||zt(M),Y=h||i,[re,q]=Tt(e.history,c,f,I,l,m.v7_partialHydration&&S===!0,oe,We,Ke,le,be,ie,Y,d,U,K);if(nt(O=>!(f&&f.some(A=>A.route.id===O))||re&&re.some(A=>A.route.id===O)),je=++qe,re.length===0&&q.length===0){let O=bt();return Ce(l,H({matches:f,loaderData:{},errors:K||null},U?{actionData:U}:{},O?{fetchers:new Map(c.fetchers)}:{}),{flushSync:E}),{shortCircuited:!0}}if(!J&&(!m.v7_partialHydration||!S)){q.forEach(A=>{let G=c.fetchers.get(A.key),Xe=Ae(void 0,G?G.data:void 0);c.fetchers.set(A.key,Xe)});let O=U||c.actionData;te(H({navigation:M},O?Object.keys(O).length===0?{actionData:null}:{actionData:O}:{},q.length>0?{fetchers:new Map(c.fetchers)}:{}),{flushSync:E})}q.forEach(O=>{W.has(O.key)&&de(O.key),O.controller&&W.set(O.key,O.controller)});let Re=()=>q.forEach(O=>de(O.key));_&&_.signal.addEventListener("abort",Re);let{results:at,loaderResults:Ee,fetcherResults:ce}=await yt(c.matches,f,re,q,o);if(o.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",Re),q.forEach(O=>W.delete(O.key));let ge=It(at);if(ge){if(ge.idx>=re.length){let O=q[ge.idx-re.length].key;ie.add(O)}return await Te(c,ge.result,{replace:D}),{shortCircuited:!0}}let{loaderData:ot,errors:_e}=Nt(c,f,re,Ee,K,q,ce,he);he.forEach((O,A)=>{O.subscribe(G=>{(G||O.done)&&he.delete(A)})}),m.v7_partialHydration&&S&&c.errors&&Object.entries(c.errors).filter(O=>{let[A]=O;return!re.some(G=>G.route.id===A)}).forEach(O=>{let[A,G]=O;_e=Object.assign(_e||{},{[A]:G})});let it=bt(),Se=Rt(je),Ge=it||Se||q.length>0;return H({loaderData:ot,errors:_e},Ge?{fetchers:new Map(c.fetchers)}:{})}function mr(o,l,f,p){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(o)&&de(o);let w=(p&&p.unstable_flushSync)===!0,F=h||i,D=ct(c.location,c.matches,d,m.v7_prependBasename,f,m.v7_relativeSplatPath,l,p==null?void 0:p.relative),S=Pe(F,D,d);if(!S){Fe(o,l,ne(404,{pathname:D}),{flushSync:w});return}let{path:E,submission:U,error:K}=Ct(m.v7_normalizeFormMethod,!0,D,p);if(K){Fe(o,l,K,{flushSync:w});return}let M=ht(S,E);if(z=(p&&p.preventScrollReset)===!0,U&&ae(U.formMethod)){pr(o,l,E,M,S,w,U);return}be.set(o,{routeId:l,path:E}),gr(o,l,E,M,S,w,U)}async function pr(o,l,f,p,w,F,D){if(rt(),be.delete(o),!p.route.action&&!p.route.lazy){let A=ne(405,{method:D.formMethod,pathname:f,routeId:l});Fe(o,l,A,{flushSync:F});return}let S=c.fetchers.get(o);ue(o,vn(D,S),{flushSync:F});let E=new AbortController,U=Oe(e.history,f,E.signal,D);W.set(o,E);let K=qe,M=await Ne("action",U,p,w,s,a,d,m.v7_relativeSplatPath);if(U.signal.aborted){W.get(o)===E&&W.delete(o);return}if(m.v7_fetcherPersist&&le.has(o)){if(ye(M)||De(M)){ue(o,fe(void 0));return}}else{if(ye(M))if(W.delete(o),je>K){ue(o,fe(void 0));return}else return ie.add(o),ue(o,Ae(D)),Te(c,M,{fetcherSubmission:D});if(De(M)){Fe(o,l,M.error);return}}if(ve(M))throw ne(400,{type:"defer-action"});let I=c.navigation.location||c.location,Y=Oe(e.history,I,E.signal),re=h||i,q=c.navigation.state!=="idle"?Pe(re,c.navigation.location,d):c.matches;N(q,"Didn't find any matches after fetcher action");let Re=++qe;we.set(o,Re);let at=Ae(D,M.data);c.fetchers.set(o,at);let[Ee,ce]=Tt(e.history,c,q,D,I,!1,oe,We,Ke,le,be,ie,re,d,{[p.route.id]:M.data},void 0);ce.filter(A=>A.key!==o).forEach(A=>{let G=A.key,Xe=c.fetchers.get(G),Rr=Ae(void 0,Xe?Xe.data:void 0);c.fetchers.set(G,Rr),W.has(G)&&de(G),A.controller&&W.set(G,A.controller)}),te({fetchers:new Map(c.fetchers)});let ge=()=>ce.forEach(A=>de(A.key));E.signal.addEventListener("abort",ge);let{results:ot,loaderResults:_e,fetcherResults:it}=await yt(c.matches,q,Ee,ce,Y);if(E.signal.aborted)return;E.signal.removeEventListener("abort",ge),we.delete(o),W.delete(o),ce.forEach(A=>W.delete(A.key));let Se=It(ot);if(Se){if(Se.idx>=Ee.length){let A=ce[Se.idx-Ee.length].key;ie.add(A)}return Te(c,Se.result)}let{loaderData:Ge,errors:O}=Nt(c,c.matches,Ee,_e,void 0,ce,it,he);if(c.fetchers.has(o)){let A=fe(M.data);c.fetchers.set(o,A)}Rt(Re),c.navigation.state==="loading"&&Re>je?(N(j,"Expected pending action"),_&&_.abort(),Ce(c.navigation.location,{matches:q,loaderData:Ge,errors:O,fetchers:new Map(c.fetchers)})):(te({errors:O,loaderData:Ot(c.loaderData,Ge,q,O),fetchers:new Map(c.fetchers)}),oe=!1)}async function gr(o,l,f,p,w,F,D){let S=c.fetchers.get(o);ue(o,Ae(D,S?S.data:void 0),{flushSync:F});let E=new AbortController,U=Oe(e.history,f,E.signal);W.set(o,E);let K=qe,M=await Ne("loader",U,p,w,s,a,d,m.v7_relativeSplatPath);if(ve(M)&&(M=await tr(M,U.signal,!0)||M),W.get(o)===E&&W.delete(o),!U.signal.aborted){if(le.has(o)){ue(o,fe(void 0));return}if(ye(M))if(je>K){ue(o,fe(void 0));return}else{ie.add(o),await Te(c,M);return}if(De(M)){Fe(o,l,M.error);return}N(!ve(M),"Unhandled fetcher deferred data"),ue(o,fe(M.data))}}async function Te(o,l,f){let{submission:p,fetcherSubmission:w,replace:F}=f===void 0?{}:f;l.revalidate&&(oe=!0);let D=ze(o.location,l.location,{_isRedirect:!0});if(N(D,"Expected a location on the redirect navigation"),r){let I=!1;if(l.reloadDocument)I=!0;else if(Xt.test(l.location)){const Y=e.history.createURL(l.location);I=Y.origin!==t.location.origin||$e(Y.pathname,d)==null}if(I){F?t.location.replace(l.location):t.location.assign(l.location);return}}_=null;let S=F===!0?$.Replace:$.Push,{formMethod:E,formAction:U,formEncType:K}=o.navigation;!p&&!w&&E&&U&&K&&(p=zt(o.navigation));let M=p||w;if(nn.has(l.status)&&M&&ae(M.formMethod))await pe(S,D,{submission:H({},M,{formAction:l.location}),preventScrollReset:z});else{let I=ut(D,p);await pe(S,D,{overrideNavigation:I,fetcherSubmission:w,preventScrollReset:z})}}async function yt(o,l,f,p,w){let F=await Promise.all([...f.map(E=>Ne("loader",w,E,l,s,a,d,m.v7_relativeSplatPath)),...p.map(E=>E.matches&&E.match&&E.controller?Ne("loader",Oe(e.history,E.path,E.controller.signal),E.match,E.matches,s,a,d,m.v7_relativeSplatPath):{type:k.error,error:ne(404,{pathname:E.path})})]),D=F.slice(0,f.length),S=F.slice(f.length);return await Promise.all([Bt(o,f,D,D.map(()=>w.signal),!1,c.loaderData),Bt(o,p.map(E=>E.match),S,p.map(E=>E.controller?E.controller.signal:null),!0)]),{results:F,loaderResults:D,fetcherResults:S}}function rt(){oe=!0,We.push(...nt()),be.forEach((o,l)=>{W.has(l)&&(Ke.push(l),de(l))})}function ue(o,l,f){f===void 0&&(f={}),c.fetchers.set(o,l),te({fetchers:new Map(c.fetchers)},{flushSync:(f&&f.flushSync)===!0})}function Fe(o,l,f,p){p===void 0&&(p={});let w=Be(c.matches,l);Ye(o),te({errors:{[w.route.id]:f},fetchers:new Map(c.fetchers)},{flushSync:(p&&p.flushSync)===!0})}function xt(o){return m.v7_fetcherPersist&&(Me.set(o,(Me.get(o)||0)+1),le.has(o)&&le.delete(o)),c.fetchers.get(o)||an}function Ye(o){let l=c.fetchers.get(o);W.has(o)&&!(l&&l.state==="loading"&&we.has(o))&&de(o),be.delete(o),we.delete(o),ie.delete(o),le.delete(o),c.fetchers.delete(o)}function vr(o){if(m.v7_fetcherPersist){let l=(Me.get(o)||0)-1;l<=0?(Me.delete(o),le.add(o)):Me.set(o,l)}else Ye(o);te({fetchers:new Map(c.fetchers)})}function de(o){let l=W.get(o);N(l,"Expected fetch controller: "+o),l.abort(),W.delete(o)}function wt(o){for(let l of o){let f=xt(l),p=fe(f.data);c.fetchers.set(l,p)}}function bt(){let o=[],l=!1;for(let f of ie){let p=c.fetchers.get(f);N(p,"Expected fetcher: "+f),p.state==="loading"&&(ie.delete(f),o.push(f),l=!0)}return wt(o),l}function Rt(o){let l=[];for(let[f,p]of we)if(p<o){let w=c.fetchers.get(f);N(w,"Expected fetcher: "+f),w.state==="loading"&&(de(f),we.delete(f),l.push(f))}return wt(l),l.length>0}function yr(o,l){let f=c.blockers.get(o)||Ue;return me.get(o)!==l&&me.set(o,l),f}function Et(o){c.blockers.delete(o),me.delete(o)}function Je(o,l){let f=c.blockers.get(o)||Ue;N(f.state==="unblocked"&&l.state==="blocked"||f.state==="blocked"&&l.state==="blocked"||f.state==="blocked"&&l.state==="proceeding"||f.state==="blocked"&&l.state==="unblocked"||f.state==="proceeding"&&l.state==="unblocked","Invalid blocker state transition: "+f.state+" -> "+l.state);let p=new Map(c.blockers);p.set(o,l),te({blockers:p})}function St(o){let{currentLocation:l,nextLocation:f,historyAction:p}=o;if(me.size===0)return;me.size>1&&Le(!1,"A router only supports one blocker at a time");let w=Array.from(me.entries()),[F,D]=w[w.length-1],S=c.blockers.get(F);if(!(S&&S.state==="proceeding")&&D({currentLocation:l,nextLocation:f,historyAction:p}))return F}function nt(o){let l=[];return he.forEach((f,p)=>{(!o||o(p))&&(f.cancel(),l.push(p),he.delete(p))}),l}function xr(o,l,f){if(x=o,L=l,C=f||null,!b&&c.navigation===st){b=!0;let p=Dt(c.location,c.matches);p!=null&&te({restoreScrollPosition:p})}return()=>{x=null,L=null,C=null}}function Pt(o,l){return C&&C(o,l.map(p=>Fr(p,c.loaderData)))||o.key}function wr(o,l){if(x&&L){let f=Pt(o,l);x[f]=L()}}function Dt(o,l){if(x){let f=Pt(o,l),p=x[f];if(typeof p=="number")return p}return null}function br(o){s={},h=dt(o,a,void 0,s)}return Q={get basename(){return d},get future(){return m},get state(){return c},get routes(){return i},get window(){return t},initialize:sr,subscribe:dr,enableScrollRestoration:xr,navigate:vt,fetch:mr,revalidate:cr,createHref:o=>e.history.createHref(o),encodeLocation:o=>e.history.encodeLocation(o),getFetcher:xt,deleteFetcher:vr,dispose:ur,getBlocker:yr,deleteBlocker:Et,_internalFetchControllers:W,_internalActiveDeferreds:he,_internalSetRoutes:br},Q}function sn(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ct(e,t,r,n,a,s,i,h){let d,m;if(i){d=[];for(let v of t)if(d.push(v),v.route.id===i){m=v;break}}else d=t,m=t[t.length-1];let u=Jr(a||".",Yr(d,s),$e(e.pathname,r)||e.pathname,h==="path");return a==null&&(u.search=e.search,u.hash=e.hash),(a==null||a===""||a===".")&&m&&m.route.index&&!pt(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:xe([r,u.pathname])),He(u)}function Ct(e,t,r,n){if(!n||!sn(n))return{path:r};if(n.formMethod&&!pn(n.formMethod))return{path:r,error:ne(405,{method:n.formMethod})};let a=()=>({path:r,error:ne(400,{type:"invalid-body"})}),s=n.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),h=er(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ae(i))return a();let x=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,L)=>{let[b,g]=L;return""+C+b+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:x}}}else if(n.formEncType==="application/json"){if(!ae(i))return a();try{let x=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:h,formEncType:n.formEncType,formData:void 0,json:x,text:void 0}}}catch{return a()}}}N(typeof FormData=="function","FormData is not available in this environment");let d,m;if(n.formData)d=ft(n.formData),m=n.formData;else if(n.body instanceof FormData)d=ft(n.body),m=n.body;else if(n.body instanceof URLSearchParams)d=n.body,m=Ut(d);else if(n.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(n.body),m=Ut(d)}catch{return a()}let u={formMethod:i,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(ae(u.formMethod))return{path:r,submission:u};let v=se(r);return t&&v.search&&pt(v.search)&&d.append("index",""),v.search="?"+d,{path:He(v),submission:u}}function un(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Tt(e,t,r,n,a,s,i,h,d,m,u,v,x,C,L,b){let g=b?Object.values(b)[0]:L?Object.values(L)[0]:void 0,R=e.createURL(t.location),T=e.createURL(a),B=b?Object.keys(b)[0]:void 0,Q=un(r,B).filter((j,z)=>{let{route:_}=j;if(_.lazy)return!0;if(_.loader==null)return!1;if(s)return _.loader.hydrate?!0:t.loaderData[_.id]===void 0&&(!t.errors||t.errors[_.id]===void 0);if(dn(t.loaderData,t.matches[z],j)||h.some(ee=>ee===j.route.id))return!0;let Z=t.matches[z],V=j;return Ft(j,H({currentUrl:R,currentParams:Z.params,nextUrl:T,nextParams:V.params},n,{actionResult:g,defaultShouldRevalidate:i||R.pathname+R.search===T.pathname+T.search||R.search!==T.search||Zt(Z,V)}))}),c=[];return u.forEach((j,z)=>{if(s||!r.some(J=>J.route.id===j.routeId)||m.has(z))return;let _=Pe(x,j.path,C);if(!_){c.push({key:z,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(z),V=ht(_,j.path),ee=!1;v.has(z)?ee=!1:d.includes(z)?ee=!0:Z&&Z.state!=="idle"&&Z.data===void 0?ee=i:ee=Ft(V,H({currentUrl:R,currentParams:t.matches[t.matches.length-1].params,nextUrl:T,nextParams:r[r.length-1].params},n,{actionResult:g,defaultShouldRevalidate:i})),ee&&c.push({key:z,routeId:j.routeId,path:j.path,matches:_,match:V,controller:new AbortController})}),[Q,c]}function dn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function Zt(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ft(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function _t(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];N(a,"No route found in manifest");let s={};for(let i in n){let d=a[i]!==void 0&&i!=="hasErrorBoundary";Le(!d,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!d&&!Cr.has(i)&&(s[i]=n[i])}Object.assign(a,s),Object.assign(a,H({},t(a),{lazy:void 0}))}async function Ne(e,t,r,n,a,s,i,h,d){d===void 0&&(d={});let m,u,v,x=b=>{let g,R=new Promise((T,B)=>g=B);return v=()=>g(),t.signal.addEventListener("abort",v),Promise.race([b({request:t,params:r.params,context:d.requestContext}),R])};try{let b=r.route[e];if(r.route.lazy)if(b){let g,R=await Promise.all([x(b).catch(T=>{g=T}),_t(r.route,s,a)]);if(g)throw g;u=R[0]}else if(await _t(r.route,s,a),b=r.route[e],b)u=await x(b);else if(e==="action"){let g=new URL(t.url),R=g.pathname+g.search;throw ne(405,{method:t.method,pathname:R,routeId:r.route.id})}else return{type:k.data,data:void 0};else if(b)u=await x(b);else{let g=new URL(t.url),R=g.pathname+g.search;throw ne(404,{pathname:R})}N(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(b){m=k.error,u=b}finally{v&&t.signal.removeEventListener("abort",v)}if(mn(u)){let b=u.status;if(rn.has(b)){let R=u.headers.get("Location");if(N(R,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xt.test(R))R=ct(new URL(t.url),n.slice(0,n.indexOf(r)+1),i,!0,R,h);else if(!d.isStaticRequest){let T=new URL(t.url),B=R.startsWith("//")?new URL(T.protocol+R):new URL(R),X=$e(B.pathname,i)!=null;B.origin===T.origin&&X&&(R=B.pathname+B.search+B.hash)}if(d.isStaticRequest)throw u.headers.set("Location",R),u;return{type:k.redirect,status:b,location:R,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(d.isRouteRequest)throw{type:m===k.error?k.error:k.data,response:u};let g;try{let R=u.headers.get("Content-Type");R&&/\bapplication\/json\b/.test(R)?u.body==null?g=null:g=await u.json():g=await u.text()}catch(R){return{type:k.error,error:R}}return m===k.error?{type:m,error:new mt(b,u.statusText,g),headers:u.headers}:{type:k.data,data:g,statusCode:u.status,headers:u.headers}}if(m===k.error)return{type:m,error:u};if(hn(u)){var C,L;return{type:k.deferred,deferredData:u,statusCode:(C=u.init)==null?void 0:C.status,headers:((L=u.init)==null?void 0:L.headers)&&new Headers(u.init.headers)}}return{type:k.data,data:u}}function Oe(e,t,r,n){let a=e.createURL(er(t)).toString(),s={signal:r};if(n&&ae(n.formMethod)){let{formMethod:i,formEncType:h}=n;s.method=i.toUpperCase(),h==="application/json"?(s.headers=new Headers({"Content-Type":h}),s.body=JSON.stringify(n.json)):h==="text/plain"?s.body=n.text:h==="application/x-www-form-urlencoded"&&n.formData?s.body=ft(n.formData):s.body=n.formData}return new Request(a,s)}function ft(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Ut(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function cn(e,t,r,n,a){let s={},i=null,h,d=!1,m={};return r.forEach((u,v)=>{let x=t[v].route.id;if(N(!ye(u),"Cannot handle redirect results in processLoaderData"),De(u)){let C=Be(e,x),L=u.error;n&&(L=Object.values(n)[0],n=void 0),i=i||{},i[C.route.id]==null&&(i[C.route.id]=L),s[x]=void 0,d||(d=!0,h=Jt(u.error)?u.error.status:500),u.headers&&(m[x]=u.headers)}else ve(u)?(a.set(x,u.deferredData),s[x]=u.deferredData.data):s[x]=u.data,u.statusCode!=null&&u.statusCode!==200&&!d&&(h=u.statusCode),u.headers&&(m[x]=u.headers)}),n&&(i=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:i,statusCode:h||200,loaderHeaders:m}}function Nt(e,t,r,n,a,s,i,h){let{loaderData:d,errors:m}=cn(t,r,n,a,h);for(let u=0;u<s.length;u++){let{key:v,match:x,controller:C}=s[u];N(i!==void 0&&i[u]!==void 0,"Did not find corresponding fetcher result");let L=i[u];if(!(C&&C.signal.aborted))if(De(L)){let b=Be(e.matches,x==null?void 0:x.route.id);m&&m[b.route.id]||(m=H({},m,{[b.route.id]:L.error})),e.fetchers.delete(v)}else if(ye(L))N(!1,"Unhandled fetcher revalidation redirect");else if(ve(L))N(!1,"Unhandled fetcher deferred data");else{let b=fe(L.data);e.fetchers.set(v,b)}}return{loaderData:d,errors:m}}function Ot(e,t,r,n){let a=H({},t);for(let s of r){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&s.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function Be(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function At(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ne(e,t){let{pathname:r,routeId:n,method:a,type:s}=t===void 0?{}:t,i="Unknown Server Error",h="Unknown @remix-run/router error";return e===400?(i="Bad Request",a&&r&&n?h="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?h="defer() is not supported in actions":s==="invalid-body"&&(h="Unable to encode submission body")):e===403?(i="Forbidden",h='Route "'+n+'" does not match URL "'+r+'"'):e===404?(i="Not Found",h='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",a&&r&&n?h="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(h='Invalid request method "'+a.toUpperCase()+'"')),new mt(e||500,i,new Error(h),!0)}function It(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ye(r))return{result:r,idx:t}}}function er(e){let t=typeof e=="string"?se(e):e;return He(H({},t,{hash:""}))}function fn(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ve(e){return e.type===k.deferred}function De(e){return e.type===k.error}function ye(e){return(e&&e.type)===k.redirect}function hn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function mn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function pn(e){return tn.has(e.toLowerCase())}function ae(e){return Zr.has(e.toLowerCase())}async function Bt(e,t,r,n,a,s){for(let i=0;i<r.length;i++){let h=r[i],d=t[i];if(!d)continue;let m=e.find(v=>v.route.id===d.route.id),u=m!=null&&!Zt(m,d)&&(s&&s[d.route.id])!==void 0;if(ve(h)&&(a||u)){let v=n[i];N(v,"Expected an AbortSignal for revalidating fetcher deferred result"),await tr(h,v,a).then(x=>{x&&(r[i]=x||r[i])})}}}async function tr(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:k.data,data:e.deferredData.unwrappedData}}catch(a){return{type:k.error,error:a}}return{type:k.data,data:e.deferredData.data}}}function pt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ht(e,t){let r=typeof t=="string"?se(t).search:t.search;if(e[e.length-1].route.index&&pt(r||""))return e[e.length-1];let n=Yt(e);return n[n.length-1]}function zt(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function ut(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gn(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ae(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vn(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yn(e,t){try{let r=e.sessionStorage.getItem(Qt);if(r){let n=JSON.parse(r);for(let[a,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function xn(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(Qt,JSON.stringify(r))}catch(n){Le(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(this,arguments)}const rr=y.createContext(null),nr=y.createContext(null),ar=y.createContext(null),et=y.createContext(null),Ve=y.createContext({outlet:null,matches:[],isDataRoute:!1}),or=y.createContext(null);function gt(){return y.useContext(et)!=null}function wn(){return gt()||N(!1),y.useContext(et).location}const bn=y.createContext(null);function Rn(e){let t=y.useContext(Ve).outlet;return t&&y.createElement(bn.Provider,{value:e},t)}function En(e,t,r,n){gt()||N(!1);let{navigator:a}=y.useContext(ar),{matches:s}=y.useContext(Ve),i=s[s.length-1],h=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let m=wn(),u;if(t){var v;let g=typeof t=="string"?se(t):t;d==="/"||(v=g.pathname)!=null&&v.startsWith(d)||N(!1),u=g}else u=m;let x=u.pathname||"/",C=x;if(d!=="/"){let g=d.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let L=Pe(e,{pathname:C}),b=jn(L&&L.map(g=>Object.assign({},g,{params:Object.assign({},h,g.params),pathname:xe([d,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:xe([d,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return t&&b?y.createElement(et.Provider,{value:{location:Qe({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$.Pop}},b):b}function Sn(){let e=Tn(),t=Jt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const Pn=y.createElement(Sn,null);class Dn extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Ve.Provider,{value:this.props.routeContext},y.createElement(or.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ln(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(rr);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Ve.Provider,{value:t},n)}function jn(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let i=e,h=(a=r)==null?void 0:a.errors;if(h!=null){let u=i.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id]));u>=0||N(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,m=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let v=i[u];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=u),v.route.id){let{loaderData:x,errors:C}=r,L=v.route.loader&&x[v.route.id]===void 0&&(!C||C[v.route.id]===void 0);if(v.route.lazy||L){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((u,v,x)=>{let C,L=!1,b=null,g=null;r&&(C=h&&v.route.id?h[v.route.id]:void 0,b=v.route.errorElement||Pn,d&&(m<0&&x===0?(Fn("route-fallback",!1),L=!0,g=null):m===x&&(L=!0,g=v.route.hydrateFallbackElement||null)));let R=t.concat(i.slice(0,x+1)),T=()=>{let B;return C?B=b:L?B=g:v.route.Component?B=y.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=u,y.createElement(Ln,{match:v,routeContext:{outlet:u,matches:R,isDataRoute:r!=null},children:B})};return r&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?y.createElement(Dn,{location:r.location,revalidation:r.revalidation,component:b,error:C,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}var ke=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ke||{});function ir(e){let t=y.useContext(nr);return t||N(!1),t}function Mn(e){let t=y.useContext(Ve);return t||N(!1),t}function lr(e){let t=Mn(),r=t.matches[t.matches.length-1];return r.route.id||N(!1),r.route.id}function Cn(){let e=ir(ke.UseLoaderData),t=lr(ke.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Tn(){var e;let t=y.useContext(or),r=ir(ke.UseRouteError),n=lr(ke.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const kt={};function Fn(e,t,r){!t&&!kt[e]&&(kt[e]=!0)}function _n(e){return Rn(e.context)}function Un(e){let{basename:t="/",children:r=null,location:n,navigationType:a=$.Pop,navigator:s,static:i=!1,future:h}=e;gt()&&N(!1);let d=t.replace(/^\/*/,"/"),m=y.useMemo(()=>({basename:d,navigator:s,static:i,future:Qe({v7_relativeSplatPath:!1},h)}),[d,h,s,i]);typeof n=="string"&&(n=se(n));let{pathname:u="/",search:v="",hash:x="",state:C=null,key:L="default"}=n,b=y.useMemo(()=>{let g=$e(u,d);return g==null?null:{location:{pathname:g,search:v,hash:x,state:C,key:L},navigationType:a}},[d,u,v,x,C,L,a]);return b==null?null:y.createElement(ar.Provider,{value:m},y.createElement(et.Provider,{children:r,value:b}))}new Promise(()=>{});function Nn(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:y.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}const On="6";try{window.__reactRouterVersion=On}catch{}function An(e,t){return ln({basename:t==null?void 0:t.basename,future:Ze({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Lr({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||In(),routes:e,mapRouteProperties:Nn,window:t==null?void 0:t.window}).initialize()}function In(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ze({},t,{errors:Bn(t.errors)})),t}function Bn(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new mt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let i=new s(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let s=new Error(a.message);s.stack="",r[n]=s}}else r[n]=a;return r}const zn=y.createContext({isTransitioning:!1}),kn=y.createContext(new Map),Hn="startTransition",Ht=Er[Hn],$n="flushSync",$t=Sr[$n];function Vn(e){Ht?Ht(e):e()}function Ie(e){$t?$t(e):e()}class Wn{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function Kn(e){let{fallbackElement:t,router:r,future:n}=e,[a,s]=y.useState(r.state),[i,h]=y.useState(),[d,m]=y.useState({isTransitioning:!1}),[u,v]=y.useState(),[x,C]=y.useState(),[L,b]=y.useState(),g=y.useRef(new Map),{v7_startTransition:R}=n||{},T=y.useCallback(j=>{R?Vn(j):j()},[R]),B=y.useCallback((j,z)=>{let{deletedFetchers:_,unstable_flushSync:Z,unstable_viewTransitionOpts:V}=z;_.forEach(J=>g.current.delete(J)),j.fetchers.forEach((J,oe)=>{J.data!==void 0&&g.current.set(oe,J.data)});let ee=r.window==null||typeof r.window.document.startViewTransition!="function";if(!V||ee){Z?Ie(()=>s(j)):T(()=>s(j));return}if(Z){Ie(()=>{x&&(u&&u.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let J=r.window.document.startViewTransition(()=>{Ie(()=>s(j))});J.finished.finally(()=>{Ie(()=>{v(void 0),C(void 0),h(void 0),m({isTransitioning:!1})})}),Ie(()=>C(J));return}x?(u&&u.resolve(),x.skipTransition(),b({state:j,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(h(j),m({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[r.window,x,u,g,T]);y.useLayoutEffect(()=>r.subscribe(B),[r,B]),y.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new Wn)},[d]),y.useEffect(()=>{if(u&&i&&r.window){let j=i,z=u.promise,_=r.window.document.startViewTransition(async()=>{T(()=>s(j)),await z});_.finished.finally(()=>{v(void 0),C(void 0),h(void 0),m({isTransitioning:!1})}),C(_)}},[T,i,u,r.window]),y.useEffect(()=>{u&&i&&a.location.key===i.location.key&&u.resolve()},[u,x,a.location,i]),y.useEffect(()=>{!d.isTransitioning&&L&&(h(L.state),m({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}),b(void 0))},[d.isTransitioning,L]),y.useEffect(()=>{},[]);let X=y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:j=>r.navigate(j),push:(j,z,_)=>r.navigate(j,{state:z,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(j,z,_)=>r.navigate(j,{replace:!0,state:z,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[r]),Q=r.basename||"/",c=y.useMemo(()=>({router:r,navigator:X,static:!1,basename:Q}),[r,X,Q]);return y.createElement(y.Fragment,null,y.createElement(rr.Provider,{value:c},y.createElement(nr.Provider,{value:a},y.createElement(kn.Provider,{value:g.current},y.createElement(zn.Provider,{value:d},y.createElement(Un,{basename:Q,location:a.location,navigationType:a.historyAction,navigator:X,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},a.initialized||r.future.v7_partialHydration?y.createElement(qn,{routes:r.routes,future:r.future,state:a}):t))))),null)}function qn(e){let{routes:t,future:r,state:n}=e;return En(t,void 0,n,r)}var Vt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vt||(Vt={}));var Wt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wt||(Wt={}));function Yn(){return P.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:"Not Found 404"})}const Jn="_login_bg_1ohmd_1",Gn={login_bg:Jn};function Xn(){const[e,t]=y.useState({username:"",password:""}),[r,n]=y.useState(""),[a,s]=y.useState(!1),i="border shadow-md border-black px-2 bg-white text-lg py-1";y.useEffect(()=>{h()},[]);async function h(){let u=await(await fetch("/auth/checktoken")).json();s(u.message)}async function d(){let u=await(await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();n(u.message),h()}return P.jsx("div",{className:`${Gn.login_bg} w-full h-full flex items-center justify-center`,children:P.jsxs("div",{className:"flex flex-col shadow-xl overflow-hidden rounded-2xl w-fit border-[1px] border-black justify-center",children:[P.jsxs("div",{className:"flex drop-shadow-lg items-center flex-row p-2 bg-gray-800 text-white",children:[P.jsx("a",{className:"font-bold text-xl select-none px-2 rounded-md hover:bg-white hover:text-gray-800",href:"/",children:"<  "}),a?P.jsxs("div",{className:"ml-auto flex flex-col rounded-tr-lg font-bold border-[1px] border-white p-2",children:[P.jsxs("span",{children:[": ",a.username]}),P.jsxs("span",{children:[": ",a.privileges?"":""]})]}):P.jsx(P.Fragment,{})]}),P.jsxs("form",{onSubmit:m=>m.preventDefault(),className:"flex text-lg flex-col bg-gray-50 px-20 pt-12 pb-10 gap-6",children:[P.jsx("span",{className:"font-bold text-xl mx-auto select-none",children:""}),P.jsx("input",{value:e.username,onChange:m=>t(u=>({...u,username:m.target.value})),className:i,type:"text",placeholder:" "}),P.jsx("input",{value:e.password,onChange:m=>t(u=>({...u,password:m.target.value})),className:i,type:"password",placeholder:""}),P.jsx("button",{onClick:d,className:"border shadow-md hover:shadow-lg hover:bg-gray-50 border-black bg-white w-fit mt-4 px-3 py-2 mx-auto",children:""}),r?P.jsx("span",{className:"mx-auto underline",children:r}):P.jsx(P.Fragment,{})]})]})})}function Qn({name:e,image:t,description:r,price:n}){var a;return P.jsxs("div",{className:"flex flex-col items-center gap-2 leading-5",children:[P.jsx("div",{style:{height:"242px"},className:"w-fit flex items-center overflow-hidden",children:P.jsx("img",{src:t,style:{width:"180px"},className:"",alt:""})}),P.jsx("span",{className:"font-bold text-[16px]",children:e}),P.jsx("span",{className:"text-[14px]",children:r}),P.jsx("span",{className:"text-[14px] font-bold",children:((a=n.toString().match(/\d{1,3}(?=(\d{3})*$)/g))==null?void 0:a.join(" "))+" ."})]})}function Zn(){const e=Cn(),[t,r]=y.useState(e);y.useEffect(()=>{n()},[]);async function n(){let s=await(await fetch("/api/products")).json();r(s)}return P.jsx("div",{className:"flex justify-center w-full",children:P.jsx("div",{className:"flex flex-row gap-14",children:t.map((a,s)=>P.jsx(Qn,{image:a.image,name:a.name,price:a.price,description:a.description},s))})})}function ea(){return P.jsx("div",{children:"Products"})}function ta(){return P.jsxs("div",{className:"flex flex-col w-full h-full",children:[P.jsx(ra,{}),P.jsx("div",{className:"flex flex-col w-full h-full",children:P.jsx(_n,{})})]})}function ra(){return P.jsx("header",{className:"h-16 w-full flex items-center justify-center",children:P.jsx("div",{className:"",children:P.jsx(na,{children:""})})})}function na({children:e}){return P.jsx("a",{className:"text-[16px]",href:"/products",children:e.toUpperCase()})}const aa=[{path:"/",element:P.jsx(ta,{}),errorElement:P.jsx(Yn,{}),children:[{path:"/",loader:oa,element:P.jsx(Zn,{})},{path:"/products",element:P.jsx(ea,{})}]},{path:"/login",element:P.jsx(Xn,{})}];async function oa(){return await(await fetch("/api/products")).json()}function ia(){const e=typeof window<"u"?An(aa):null;return P.jsx(P.Fragment,{children:typeof window<"u"&&e?P.jsx(Kn,{router:e}):P.jsx(P.Fragment,{})})}Pr.hydrateRoot(document.getElementById("root"),P.jsx(Dr.StrictMode,{children:P.jsx(ia,{})}));
